meta {
  name: Google Verify Token
  type: http
  seq: 4
}

post {
  url: {{base_url}}/api/v1/auth/google/verify
  body: json
  auth: none
}

headers {
  Content-Type: application/json
}

body:json {
  {
    "id_token": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjQ5NmQwMDhlOGM3YmUxY2FlNDIwOWUwZDVjMjFiMDUwYTYxZTk2MGYiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20iLCJhenAiOiIxMDQzNDcxNDgyNjA4LWQxODBicDU3aGR1OTAwODhqNjZnZjdlZTg2aG10M2w3LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMTA0MzQ3MTQ4MjYwOC1kMTgwYnA1N2hkdTkwMDg4ajY2Z2Y3ZWU4NmhtdDNsNy5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbSIsInN1YiI6IjExNzU5NDQ3MzU5NTI1NDMwMzk4MiIsImVtYWlsIjoiZmlyc3QxODAxMUBnbWFpbC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmJmIjoxNzY3NDI0MzIyLCJuYW1lIjoi4LiB4Li04LiV4LiV4Li04Lig4Lix4LiOIOC4oOC4ueC5iOC4quC4teC4oeC5iOC4p-C4hyIsInBpY3R1cmUiOiJodHRwczovL2xoMy5nb29nbGV1c2VyY29udGVudC5jb20vYS9BQ2c4b2NKTnNWS2pMQ0VKVjYyWnlYNEszVkpCTUp4eU5Pa1dnZE9pTkFqZ21MdGRkd1JUTXlBWj1zOTYtYyIsImdpdmVuX25hbWUiOiLguIHguLTguJXguJXguLTguKDguLHguI4iLCJmYW1pbHlfbmFtZSI6IuC4oOC4ueC5iOC4quC4teC4oeC5iOC4p-C4hyIsImlhdCI6MTc2NzQyNDYyMiwiZXhwIjoxNzY3NDI4MjIyLCJqdGkiOiJiZThlZWM4M2RlZjA4MGExMzgyZjhiZTcyOTkyZDRkNzk4MDgxODA0In0.A45IXKXZqeEX9bXZcpFYjKPIHG8QjDMLUlX08nGXsWFhruVg1vp4bofHIlznetqvNHLPk7Mc1loxv3ePKDa2JS7gONxtEoWryImRbgTi3OVTw7nPD6vRsIqewM1xAx1IcEfoZutbBT6KOaJXVEoEmzf0BMVFP85Z0HNzOju2_eAIcSjq7x8VtCx0XjyDIZAk94P0c2A2GzO3NcFnoslJw_Lw7T3HdvB4Xn_J_g9fPZ-s6lwIed0aE8mbXWXL59t_C7H-GHalxC2ASTyPXYOQk3MyIxZS2iVX5xQ1IrQV35dEPqtCMKPEP1cVZzSN8eADQOaJhwSOEr5oMOFtq1eujA"
  }
}

vars:pre-request {
  base_url: http://localhost:8080
}

docs {
  # Google Verify Token
  
  Verifies a Google ID token obtained from the frontend Google SDK.
  
  ## How to get an ID token:
  
  1. Use Google Sign-In SDK in your frontend:
     - React: `@react-oauth/google`
     - Vue: `vue3-google-login`
     - Plain JS: Google Identity Services
  
  2. The SDK will return a `credential` which is the ID token
  
  3. Paste that token in the request body
  
  ## Test with browser console:
  
  ```javascript
  // Open https://accounts.google.com/gsi/client playground
  // Or implement in your app and copy the token from console.log
  ```
  
  ## Expected Response:
  
  ```json
  {
    "success": true,
    "data": {
      "user": {
        "id": 1,
        "email": "user@gmail.com",
        "name": "John Doe",
        "provider": "google",
        "avatar_url": "https://lh3.googleusercontent.com/...",
        "created_at": "2025-12-30T10:00:00Z"
      },
      "access_token": "eyJhbGci...",
      "refresh_token": "eyJhbGci...",
      "token_type": "Bearer",
      "expires_in": 86400
    }
  }
  ```
}
